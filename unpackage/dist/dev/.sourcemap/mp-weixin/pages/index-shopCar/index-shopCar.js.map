{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?88b2","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?471a","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?5afc","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?2c6d","uni-app:///pages/index-shopCar/index-shopCar.vue","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?bebc","webpack:///D:/project/maintainCar2.0/maintainCar2.0/pages/index-shopCar/index-shopCar.vue?d360"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACc;;;AAG1E;AACyL;AACzL,gBAAgB,gMAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwtB,CAAgB,stBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyD5uB;AACA,MADA,kBACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBAAA,CAHA;;AAiCA;AACA,mBAlCA;AAmCA,iBAnCA;AAoCA;AACA,oCArCA;AAsCA;AACA,+CAvCA;;AAyCA,GA3CA;AA4CA;AACA;AACA,kBAFA,0BAEA,CAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA;AACA,gBAbA,wBAaA,CAbA,EAaA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAjCA;AAkCA;AACA;AACA,aApCA,qBAoCA,CApCA,EAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KArDA;AAsDA;AACA,OAvDA,eAuDA,CAvDA,EAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjEA;AAkEA;AACA,QAnEA,gBAmEA,CAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7EA;AA8EA;AACA,gBA/EA,wBA+EA,GA/EA,EA+EA,EA/EA,EA+EA;AACA;AACA,8EADA;AAEA,sBAFA;AAGA;AACA,2BADA,EAHA;;AAMA;AACA,kBADA;AAEA,mBAFA,EANA;;AAUA;AACA;AACA,SAZA;;AAcA;AACA,KA/FA;AAgGA;AACA,WAjGA,mBAiGA,CAjGA,EAiGA;AACA;AACA,mBADA;AAEA,yBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA,4BAHA;AAIA;AACA;AACA;AACA,oFADA;AAEA,gCAFA;AAGA;AACA,sCADA,EAHA;;AAMA;AACA;AACA,mBARA;;AAUA,eAhBA;;;;AAoBA;AACA,WAnCA,MAmCA;AACA;AACA;AACA,SA1CA;;;;AA8CA,KAhJA;AAiJA;AACA,iBAlJA,2BAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7JA;AA8JA;AACA,gBA/JA,0BA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCADA;;;AAIA,KAxLA,EA5CA;;;;AAwOA,QAxOA,oBAwOA;AACA;AACA;AACA,uDADA;AAEA;AACA,yBADA,EAFA;;AAKA,mBALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,+BAFA;AAGA,uBAHA;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAhCA;;AAkCA;AACA;AACA,GA9QA,E;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAA2zC,CAAgB,kvCAAG,EAAC,C;;;;;;;;;;;ACA/0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index-shopCar/index-shopCar.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index-shopCar/index-shopCar.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index-shopCar.vue?vue&type=template&id=3c6c878e&\"\nvar renderjs\nimport script from \"./index-shopCar.vue?vue&type=script&lang=js&\"\nexport * from \"./index-shopCar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index-shopCar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index-shopCar/index-shopCar.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index-shopCar.vue?vue&type=template&id=3c6c878e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index-shopCar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index-shopCar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"shopCar\">\r\n\t\t<!-- 自营店 -->\r\n\t\t<view class=\"ownStores\" :key=\"index1\" v-for=\"(items,index1) in itemsCom\">\r\n\t\t\t<view class=\"storeCate\">\r\n\t\t\t\t<!-- 全选 -->\r\n\t\t\t\t<view class=\"checkBox\">\r\n\t\t\t\t\t<checkbox class=\"checkBox1\" value=\"cb\" :data-index=\"index1\" :checked=\"items.selectAllStatus\" style=\"transform:scale(0.7)\"\r\n\t\t\t\t\t color=\"red\" @click=\"checkboxChange\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 自营店 -->\r\n\t\t\t\t<view class=\"\">{{items.shopName}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"storeShop\" :key=\"index\" v-for=\"(items,index) in items.commodity\">\r\n\t\t\t\t<!-- 单选 -->\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<checkbox class=\"checkBox1\" value=\"cb\" :data-index1=\"index1\" :data-index=\"index\" :data-index2=\"items.skuId\" :checked=\"items.checked1\" style=\"transform:scale(0.7)\"\r\n\t\t\t\t\t color=\"red\" @click=\"singleChange\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t<view class=\"storeImg\">\r\n\t\t\t\t\t<image :src=\"items.image\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t\t<view class=\"car-pad\">\r\n\t\t\t\t\t\t<view class=\"\">{{items.name}}</view>\r\n\t\t\t\t\t\t<view class=\"delete\" :data-index1=\"index1\" :data-index=\"index\" :data-index2=\"items.skuId\" @click=\"delete1\">删除</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 描述 -->\r\n\t\t\t\t\t<view class=\"car-category\">汽车类型：轿车 位置：全车</view>\r\n\t\t\t\t\t<!-- 价格 -->\r\n\t\t\t\t\t<view class=\"car-price\">￥{{items.price}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 加减 -->\r\n\t\t\t\t<view class=\"add-subtract\">\r\n\t\t\t\t\t<!-- 减 -->\r\n\t\t\t\t\t<view class=\"substract\" :data-index1=\"index1\" :data-index=\"index\" :data-index2=\"items.skuId\" @click=\"substract\">-</view>\r\n\t\t\t\t\t<!-- 输入 -->\r\n\t\t\t\t\t<input type=\"text\" v-model=\"items.num\" :data-index1=\"index1\" :data-index=\"index\" :data-index2=\"items.skuId\" class=\"inp2\" @blur=\"inp2\"/>\r\n\t\t\t\t\t<!-- 加 -->\r\n\t\t\t\t\t<view class=\"add\" :data-index1=\"index1\" :data-index=\"index\" :data-index2=\"items.skuId\" @click=\"add\">+</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 总金额 -->\r\n\t\t<view class=\"totalMoney1\">\r\n\r\n\t\t</view>\r\n\t\t<view class=\"totalMoney\">\r\n\t\t\t<view class=\"totalPrice\">总金额：<view class=\"money1\">{{totalMoney}}</view>元（不含运费）</view>\r\n\t\t\t<view class=\"computed\" @click=\"confirmOrder\">去结算</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 商品\r\n\t\t\t\t// 根据店铺进行渲染\r\n\t\t\t\titemsCom: [/* {\r\n\t\t\t\t\t\t// 店铺名\r\n\t\t\t\t\t\tshopName: '京东自营店',\r\n\t\t\t\t\t\t// 全选的索引\r\n\t\t\t\t\t\t// index1:0,\r\n\t\t\t\t\t\t// 全选状态\r\n\t\t\t\t\t\tselectAllStatus: true,\r\n\t\t\t\t\t\t// 商品\r\n\t\t\t\t\t\tcommodity: [{\r\n\t\t\t\t\t\t\t\timgSrc: '../../static/images-index/washCar.jpg',\r\n\t\t\t\t\t\t\t\ttitle: '汽车贴膜',\r\n\t\t\t\t\t\t\t\tdes: '汽车类型：轿车 位置：全车',\r\n\t\t\t\t\t\t\t\tprice: 29.9,\r\n\t\t\t\t\t\t\t\tnum: 1,\r\n\t\t\t\t\t\t\t\t// 选择\r\n\t\t\t\t\t\t\t\tchecked1: true,\r\n\t\t\t\t\t\t\t\t// index2:0\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\timgSrc: '../../static/images-index/washCar.jpg',\r\n\t\t\t\t\t\t\t\ttitle: '板车修复',\r\n\t\t\t\t\t\t\t\tdes: '汽车类型：SUV 位置：全车',\r\n\t\t\t\t\t\t\t\tprice: 99.9,\r\n\t\t\t\t\t\t\t\tnum: 2,\r\n\t\t\t\t\t\t\t\tchecked1: true,\r\n\t\t\t\t\t\t\t\t// index2:1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t} */\r\n\t\t\t\t],\r\n\t\t\t\t// 总价\r\n\t\t\t\ttotalMoney: 0,\r\n\t\t\t\tshow: false,\r\n\t\t\t\t// ip\r\n\t\t\t\tip:'http://172.16.14.29:6067',\r\n\t\t\t\t// token\r\n\t\t\t\ttoken:'88318de7a5b44fc0aa43fadf22e1980a'\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//全选\r\n\t\t\tcheckboxChange(e) {\r\n\t\t\t\t// console.log(e);\r\n\t\t\t\t// 找出当前全选按钮对应的索引\r\n\t\t\t\tlet index1 = e.currentTarget.dataset.index;\r\n\t\t\t\tthis.itemsCom[index1].selectAllStatus = !this.itemsCom[index1].selectAllStatus;\r\n\t\t\t\tfor (var j = 0; j < this.itemsCom[index1].commodity.length; j++) {\r\n\t\t\t\t\tthis.itemsCom[index1].commodity[j].checked1 = this.itemsCom[index1].selectAllStatus;\r\n\t\t\t\t};\r\n\t\t\t\tthis.computedMoney();\r\n\t\t\t},\r\n\t\t\t// 单选\r\n\t\t\tsingleChange(e) {\r\n\t\t\t\t// index1是店铺索引 index是商品索引\r\n\t\t\t\t// 店铺索引\r\n\t\t\t\tvar Dindex1 = e.currentTarget.dataset.index1;\r\n\t\t\t\t// 商品索引\r\n\t\t\t\tvar Sindex = e.currentTarget.dataset.index;\r\n\t\t\t\t\r\n\t\t\t\tthis.itemsCom[Dindex1].commodity[Sindex].checked1 = !this.itemsCom[Dindex1].commodity[Sindex].checked1;\r\n\t\t\t\tlet num = 0;\r\n\t\t\t\tfor (var j = 0; j < this.itemsCom[Dindex1].commodity.length; j++) {\r\n\t\t\t\t\tif (this.itemsCom[Dindex1].commodity[j].checked1 == true) {\r\n\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (num == this.itemsCom[Dindex1].commodity.length) {\r\n\t\t\t\t\tthis.itemsCom[Dindex1].selectAllStatus = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.itemsCom[Dindex1].selectAllStatus = false;\r\n\t\t\t\t};\r\n\t\t\t\tthis.computedMoney();\r\n\t\t\t},\r\n\t\t\t// 加减\r\n\t\t\t// 减法\r\n\t\t\tsubstract(e) {\r\n\t\t\t\t// index1 是店铺 index是商品\r\n\t\t\t\tlet subIndex1 = e.currentTarget.dataset.index1;\r\n\t\t\t\tlet subIndex = e.currentTarget.dataset.index;\r\n\t\t\t\t// 获取到商品id\r\n\t\t\t\tvar comId = e.currentTarget.dataset.index2;\r\n\t\t\t\t// console.log(comId);\r\n\t\t\t\t// 获取到num\r\n\t\t\t\tif (this.itemsCom[subIndex1].commodity[subIndex].num <= 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.itemsCom[subIndex1].commodity[subIndex].num--;\r\n\t\t\t\t\t// console.log(this.itemsCom[subIndex1].commodity[subIndex].num,1)\r\n\t\t\t\t};\r\n\t\t\t\tthis.changeCarNum(this.itemsCom[subIndex1].commodity[subIndex].num,comId);\r\n\t\t\t\tthis.computedMoney();\r\n\r\n\t\t\t},\r\n\t\t\t// 加法\r\n\t\t\tadd(e) {\r\n\t\t\t\t// index1 是店铺 index是商品\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tlet addIndex1 = e.currentTarget.dataset.index1;\r\n\t\t\t\tlet addIndex = e.currentTarget.dataset.index;\r\n\t\t\t\t// 获取到商品id\r\n\t\t\t\tvar comId = e.currentTarget.dataset.index2;\r\n\t\t\t\tthis.itemsCom[addIndex1].commodity[addIndex].num++;\r\n\t\t\t\tthis.changeCarNum(this.itemsCom[addIndex1].commodity[addIndex].num,comId)\r\n\t\t\t\tthis.computedMoney();\r\n\t\t\t},\r\n\t\t\t// 输入框失去焦点\r\n\t\t\tinp2(e) {\r\n\t\t\t\t// index1 是店铺 index是商品\r\n\t\t\t\tvar inpIndex1=e.currentTarget.dataset.index1;\r\n\t\t\t\tvar inpIndex=e.currentTarget.dataset.index;\r\n\t\t\t\t// 获取到商品id\r\n\t\t\t\tvar comId = e.currentTarget.dataset.index2;\r\n\t\t\t\t// console.log(e);\r\n\t\t\t\t// console.log(1111);\r\n\t\t\t\tthis.changeCarNum(this.itemsCom[inpIndex1].commodity[inpIndex].num,comId)\r\n\t\t\t\tthis.computedMoney();\r\n\t\t\t},\r\n\t\t\t// 修改购物车的数量\r\n\t\t\tchangeCarNum(num,id){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.pageUrl.pageUrl+'/cart/update?num='+num+'&skuId='+id,\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\ttoken:this.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tnum:num,\r\n\t\t\t\t\t\tskuId:id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(num,id,'修改');\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tdelete1(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '删除',\r\n\t\t\t\t    content: '删除该商品？',\r\n\t\t\t\t    success:  (res)=> {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t            // index1 是店铺 index是商品\r\n\t\t\t\t            let delIndex1=e.currentTarget.dataset.index1;\r\n\t\t\t\t            let delIndex=e.currentTarget.dataset.index;\r\n\t\t\t\t\t\t\t// 获取到商品id\r\n\t\t\t\t\t\t\tvar comId = e.currentTarget.dataset.index2;\r\n\t\t\t\t            let cars=this.itemsCom;\r\n\t\t\t\t            \r\n\t\t\t\t            cars[delIndex1].commodity.splice(delIndex,1);\r\n\t\t\t\t            // 如果删除的商品就剩最后一个，再删除时就连店铺一起删除\r\n\t\t\t\t            if(cars[delIndex1].commodity.length==0){\r\n\t\t\t\t            \tcars.splice(delIndex1,1);\r\n\t\t\t\t            }\r\n\t\t\t\t            this.itemsCom=cars;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t    title: '删除成功',\r\n\t\t\t\t\t\t\t\tmask:'false',\r\n\t\t\t\t\t\t\t    duration: 2000,\r\n\t\t\t\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\t\t\t\t// 调删除购物车的接口\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl:this.pageUrl.pageUrl+'/cart/removeCartItem?skuId='+comId,\r\n\t\t\t\t\t\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t\t\ttoken:this.token\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.computedMoney();\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            console.log('取消');\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t// 计算总价\r\n\t\t\tcomputedMoney() {\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tfor (var i = 0; i < this.itemsCom.length; i++) {\r\n\t\t\t\t\t// if(this.itemsCom[i].selectAllStatus==true){\r\n\t\t\t\t\tfor (var j = 0; j < this.itemsCom[i].commodity.length; j++) {\r\n\t\t\t\t\t\tif (this.itemsCom[i].commodity[j].checked1 == true) {\r\n\t\t\t\t\t\t\ttotal += Number(this.itemsCom[i].commodity[j].price) * Number(this.itemsCom[i].commodity[j].num);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.totalMoney = total.toFixed(2);\r\n\t\t\t},\r\n\t\t\t// 去结算\r\n\t\t\tconfirmOrder(){\r\n\t\t\t\t// 在去结算的时候存商品id\r\n\t\t\t\t// 如果商品的checkedId1为true，就把商品的skuId存进session里\r\n\t\t\t\t// 声明一个空数组\r\n\t\t\t\t// console.log(this.itemsCom[0].commodity,111111);\r\n\t\t\t\tvar arr=[];\r\n\t\t\t\tfor(var key in this.itemsCom[0].commodity){\r\n\t\t\t\t\tif(this.itemsCom[0].commodity[key].checked1==true){\r\n\t\t\t\t\t\tvar json1={}\r\n\t\t\t\t\t\tvar n=Number(this.itemsCom[0].commodity[key].skuId);\r\n\t\t\t\t\t\tjson1.image=this.itemsCom[0].commodity[key].image;\r\n\t\t\t\t\t\tjson1.merchantName=this.itemsCom[0].commodity[key].merchantName;\r\n\t\t\t\t\t\tjson1.name=this.itemsCom[0].commodity[key].name;\r\n\t\t\t\t\t\tjson1.num=this.itemsCom[0].commodity[key].num;\r\n\t\t\t\t\t\tjson1.price=this.itemsCom[0].commodity[key].price;\r\n\t\t\t\t\t\tjson1.totalPrice=this.itemsCom[0].commodity[key].totalPrice;\r\n\t\t\t\t\t\tarr.push(json1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twx.setStorageSync('sku',arr);\r\n\t\t\t\twx.setStorageSync('totalMoney',this.totalMoney)\r\n\t\t\t\twx.navigateTo({\r\n\t\t\t\t\turl:'../index-order/index-order'\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 查询购物车\r\n\t\t\tuni.request({\r\n\t\t\t\turl:this.pageUrl.pageUrl+'/cart/queryUserCart',\r\n\t\t\t\theader:{\r\n\t\t\t\t\ttoken:this.token\r\n\t\t\t\t},\r\n\t\t\t\tmethod:'get',\r\n\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\tconsole.log(res.data.data,'购物车页面');\r\n\t\t\t\t\t// 按商家分类\r\n\t\t\t\t\t// 先声明一个空数组\r\n\t\t\t\t\tlet arr1=[];\r\n\t\t\t\t\t// 再声明一个空json\r\n\t\t\t\t\tlet json1={\r\n\t\t\t\t\t\tshopName:'xx汽车店',\r\n\t\t\t\t\t\tselectAllStatus: true,\r\n\t\t\t\t\t\tcommodity:[]\r\n\t\t\t\t\t};\r\n\t\t\t\t\t// 再声明一个json\r\n\t\t\t\t\tlet json2={};\r\n\t\t\t\t\t// 再循环json，判断商家id，如果相同,就放到同一个json里面\r\n\t\t\t\t\t\r\n\t\t\t\t   for(var key in res.data.data){\r\n\t\t\t\t\t   // console.log(res.data.data[key].merchantId);\r\n\t\t\t\t\t   json2=res.data.data[key];\r\n\t\t\t\t\t   json2.checked1=true;\r\n\t\t\t\t\t   json1.commodity.push(json2);\r\n\t\t\t\t\t   \r\n\t\t\t\t   }\r\n\t\t\t\t\tarr1.push(json1);\r\n\t\t\t\t\t// console.log(arr1);\r\n\t\t\t\t\tthis.itemsCom=arr1;\r\n\t\t\t\t\tthis.computedMoney();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(this.itemsCom);\r\n\t\t\t// console.log(this.totalMoney);\r\n\t\t}\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\tpage {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.shopCar {\r\n\t\t// height: 100%;\r\n\t\t// background-color: #F4F4F3;\r\n\r\n\t\t// 自营店\r\n\t\t.ownStores {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t// 店铺\r\n\t\t\t.storeCate {\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tborder-bottom: 2rpx solid #ccc;\r\n\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t// 商品\r\n\t\t\t.storeShop {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\theight: 240rpx;\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t\t.storeImg {\r\n\t\t\t\t\twidth: 300rpx;\r\n\t\t\t\t\theight: 260rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.car-category {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #ccc;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.car-pad {\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.delete {\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\tborder: 2rpx solid red;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: red;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.car-price {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tcolor: red;\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 加减\r\n\t\t\t\t.add-subtract {\r\n\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t// background-color: pink;\r\n\t\t\t\t\tborder: 2rpx solid #ccc;\r\n\t\t\t\t\tborder-radius: 14rpx;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0rpx;\r\n\t\t\t\t\tright: 16rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tpadding-left: 16rpx;\r\n\t\t\t\t\tpadding-right: 16rpx;\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t// 加\r\n\r\n\t\t\t\t\t.inp2 {\r\n\t\t\t\t\t\tborder-left: 2rpx solid #ccc;\r\n\t\t\t\t\t\tborder-right: 2rpx solid #ccc;\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\t\tmargin-left: -50rpx;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// .uni-number{\r\n\t\t\t\t\t// \twidth: 100%;\r\n\t\t\t\t\t// \theight: 60%;\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// 总金额\r\n\t\t.totalMoney1 {\r\n\t\t\theight: 100rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\t// background-color: pink;\r\n\t\t}\r\n\r\n\t\t.totalMoney {\r\n\t\t\theight: 100rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 2;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.totalPrice {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t\t.money1 {\r\n\t\t\t\t\tcolor: red;\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tdisplay: inline;\r\n\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.computed {\r\n\t\t\t\twidth: 180rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tbackground-color: red;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 60rpx;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index-shopCar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index-shopCar.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611897810895\n      var cssReload = require(\"D:/software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}